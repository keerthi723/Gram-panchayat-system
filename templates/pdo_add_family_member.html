{% extends "layout/base.html" %}
{% block title %}

Digital Gram Panchayat - Add Family Member
{% endblock title %}
{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">

    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/pdo_style.css') }}">

    {% include 'nav/pdo_nav.html' %}
    <div class="main-content">
      {%include 'banner/pdo_header.html'%}

      <div class="form-container">
          <h2 class="text-center mb-4">Add Family Members</h2>
          <form name="form1" method="post" action="pdo_add_family_member">
              <div class="form-group">
                  <label>Family Head Name</label>
                  <input name="family_head_name" type="text" required>
              </div>
              <div class="form-group">
                  <label>Family Head Aadhar No</label>
                  <input name="family_head_aadhar_no" type="text" pattern="\d{16}" title="Please enter exactly 16 digits" required>
              </div>
              <div class="form-group">
                  <label>Ration Card No</label>
                  <input name="ration_card_no" type="text" pattern="\d{12}" title="Please enter exactly 12 digits" required>
              </div>
              <div class="form-group">
                  <label>Family Member Count</label>
                  <input name="family_member_count" type="number" required>
              </div>
              <div class="form-group">
                <label>Family Member who are Eligible for Vote Count</label>
                <input name="members_eligible_for_vote" type="number" required>
            </div>
              <div class="form-group">
                  <label>Family Members Name</label>
                  <input name="family_members_name" type="text" required>
              </div>
              <div class="form-group">
                  <label>Door No</label>
                  <input name="door_no" type="text" required>
              </div>
              <div class="form-group">
                  <label>Street</label>
                  <input name="street" type="text" required>
              </div>
              <div class="form-group">
                  <label>Area</label>
                  <input name="area" type="text" required>
              </div>
              <div class="form-group">
                  <label>Village</label>
                  <input name="village" type="text" required>
              </div>
              <div class="form-group">
                  <label>Post</label>
                  <input name="post" type="text" required>
              </div>
              <div class="form-group">
                  <label>Taluk</label>
                  <input name="taluk" type="text" required>
              </div>
              <div class="form-group">
                  <label>District</label>
                  <input name="district" type="text" value="{{ area }}" required>
              </div>
              <button type="submit" class="submit-btn">Submit</button>
          </form>
      </div>
  </div>

  <script>
      // Toggle sidebar
      const menuToggle = document.getElementById('menu-toggle');
      const sidebar = document.querySelector('.sidebar');
      const mainContent = document.querySelector('.main-content');

      menuToggle.addEventListener('click', () => {
          sidebar.classList.toggle('active');
          mainContent.classList.toggle('expanded');
      });

      // Flash message function
      function flashMessage() {
          if ("{{ flash_message }}" == "True") {
              alert("{{ data }}");
          }
      }

      // Call flash message function on load
      window.onload = flashMessage;

      // Responsive sidebar behavior
      function handleResize() {
          if (window.innerWidth <= 768) {
              sidebar.classList.remove('active');
              mainContent.classList.remove('expanded');
          }
      }

      window.addEventListener('resize', handleResize);
      handleResize();
  </script>


  {%endblock content%}